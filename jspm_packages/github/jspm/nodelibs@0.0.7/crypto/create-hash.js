/* */
"format cjs";function HashNoConstructor(e){Transform.call(this),this._hash=e,this.buffers=[]}function Hash(e){Transform.call(this),this._hash=e}var Buffer=require("../buffer").Buffer,createHash=require("sha.js"),md5=require("./md5"),rmd160=require("ripemd160"),Transform=require("../stream").Transform,inherits=require("../util").inherits;module.exports=function(e){return"md5"===e?new HashNoConstructor(md5):"rmd160"===e?new HashNoConstructor(rmd160):new Hash(createHash(e))},inherits(HashNoConstructor,Transform),HashNoConstructor.prototype._transform=function(e,t,r){this.buffers.push(e),r()},HashNoConstructor.prototype._flush=function(e){var t=Buffer.concat(this.buffers),r=this._hash(t);this.buffers=null,this.push(r),e()},HashNoConstructor.prototype.update=function(e,t){return this.write(e,t),this},HashNoConstructor.prototype.digest=function(e){this.end();for(var t,r=new Buffer("");t=this.read();)r=Buffer.concat([r,t]);return e&&(r=r.toString(e)),r},inherits(Hash,Transform),Hash.prototype._transform=function(e,t,r){this._hash.update(e),r()},Hash.prototype._flush=function(e){this.push(this._hash.digest()),this._hash=null,e()},Hash.prototype.update=function(e,t){return this.write(e,t),this},Hash.prototype.digest=function(e){this.end();for(var t,r=new Buffer("");t=this.read();)r=Buffer.concat([r,t]);return e&&(r=r.toString(e)),r};
//# sourceMappingURL=create-hash.js.map